<!DOCTYPE html>
<html>
  	<head>	
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />	
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>


	  <!-- Webcam 
	  	https://github.com/leemachin/say-cheese-->
	  <script src='js/say-cheese.js'></script>

		<title>Camera Web Component</title>
	</head>

	<!--************************************************* HTML - BODY ***********************************************-->
	<body>
		<div id="reader">
 		</div> 	
	</body>	

	<script>
      $(function() {
        var sayCheese = new SayCheese('#reader', { });

        sayCheese.on('start', function() {
          $('#action-buttons').fadeIn('fast');

          $('#take-snapshot').on('click', function(evt) {
            sayCheese.takeSnapshot();
          });
          /*var video = document.getElementsByTagName("video")[0];
video.height = 300;
video.width = 700;*/
        });

        sayCheese.on('error', function(error) {
          var $alert = $('<div>');
          $alert.addClass('alert alert-error').css('margin-top', '20px');

          if (error === 'NOT_SUPPORTED') {
            $alert.html("<strong>:(</strong> your browser doesn't support video yet!");
          } else if (error === 'AUDIO_NOT_SUPPORTED') {
            $alert.html("<strong>:(</strong> your browser doesn't support audio yet!");
          } else {
            $alert.html("<strong>:(</strong> you have to click 'allow' to try me out!");
          }

          $('.say-cheese').prepend($alert);
        });

        sayCheese.on('snapshot', function(snapshot) {
          var img = document.createElement('img');

          $(img).on('load', function() {
            $('#say-cheese-snapshots').prepend(img);
          });
          img.src = snapshot.toDataURL('image/png');
        });

        sayCheese.start();
      });
    </script>
    <style>
    	body video {
		    -webkit-transform: translateX(-50%) translateY(-50%);
		    -moz-transform: translateX(-50%) translateY(-50%);
		    -ms-transform: translateX(-50%) translateY(-50%);
		    -o-transform: translateX(-50%) translateY(-50%);
		    transform: translateX(-50%) translateY(-50%);
		    position: absolute;
		    top: 50%;
		    left: 50%;
		    min-width: 50%;
		    min-height: 50%;
		    width: auto;
		    height: auto;
		    z-index: -100;
		}

	</style>
</html>